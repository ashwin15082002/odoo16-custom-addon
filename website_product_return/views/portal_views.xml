<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="template" name="product_return"
              inherit_id="sale.sale_order_portal_content">
        <xpath expr="//div[@id='introduction']/h2"
               position="inside">

            <span style="padding-left:400px">
                <a class="btn btn-secondary o_download_btn" title="Return"
                   data-bs-toggle="modal"
                   data-bs-target=".bd-example-modal-xl">
                    <i class="fa fa-truck" aria-hidden="true"/>
                    Return
                </a>
            </span>
            <form id="sale_return_form">
                <div class="modal fade bd-example-modal-xl" tabindex="-1"
                     role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-xl">
                        <div class="modal-content">
                            <div class="modal-header">
                                Sales Return
                            </div>
                            <div class="modal-body">
                                <table class="table">
                                    <thead style="font-size:25px">
                                        <tr>
                                            <th>Product</th>
                                            <th>Quantity</th>
                                            <th>Return Quantity</th>
                                        </tr>
                                    </thead>
                                    <tbody class="table table-striped"
                                           style="font-size:15px">
                                        <t t-set="lines_to_report"
                                           t-value="sale_order.order_line.filtered(lambda x:x.product_id.type!='service')"/>
                                        <t t-foreach="lines_to_report"
                                           t-as="line">
                                            <tr class="order_line">
                                                <td>
                                                    <span  t-field="line.name"/>
                                                </td>
                                                <td>
                                                    <span style="text-align: center;" t-field="line.product_uom_qty"/>
                                                </td>
                                                <td>
                                                    <div class="css_quantity input-group">
                                                        <div class="input-group-prepend">
                                                            <a t-attf-href="#"
                                                               class="btn btn-link js_add_json d-none d-md-inline-block"
                                                               aria-label="Remove one"
                                                               title="Remove one">
                                                                <i class="fa fa-minus"/>
                                                            </a>
                                                        </div>

                                                        <input type="text"
                                                               class="form-control quantity"
                                                               style="width: 50px;height: 50px;text-align: center;"
                                                               t-att-data-min="0"
                                                               t-att-data-max="int(line.product_uom_qty)"
                                                               t-att-data-line-id="line.id"
                                                               t-att-data-order-id="sale_order.id"
                                                               t-att-data-product-id="line.product_id.id"
                                                               t-att-data-delivered_qty="int(line.product_uom_qty)"
                                                               t-att-value="int(line.product_uom_qty)"
                                                               readonly="1"/>

                                                        <div class="input-group-append">
                                                            <a t-attf-href="#"
                                                               class="btn btn-link float_left  d-none d-md-inline-block js_add_json"
                                                               aria-label="Add one"
                                                               title="Add one">
                                                                <i class="fa fa-plus"/>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </t>
                                    </tbody>
                                </table>

                            </div>
                            <div class="modal-footer">
                                <button id='create'
                                        class="btn btn-secondary">
                                    Submit
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </xpath>
    </template>
</odoo>